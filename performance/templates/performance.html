{% extends 'base.html' %}
{% load static from staticfiles %}
{% load bootstrap_tags %}

{% block content %}
<div class="row row-flex">
    <form class="form-horizontal">
        <fieldset>
            <legend>Legend</legend>
            <div class="form-group">
            <label for="select" class="col-lg-2 control-label">Shares</label>
            <div class="col-lg-10">
                <select class="form-control" id="share-select">
                    {% for share in shares %}
                    <option>{{ share.name }}</option>
                    {% endfor %}
                </select>
            </div>
            </div>
            <div class="form-group">
            <label for="select" class="col-lg-2 control-label">Commodities</label>
            <div class="col-lg-10">
                <select class="form-control" id="commodity-select">
                    {% for commodity in commodities %}
                    <option>{{ commodity.name }}</option>
                    {% endfor %}
                </select>
            </div>
            </div>
        </fieldset>
    </form>
    
    <canvas id="myChart" width="500" height="400"></canvas>

    <script type="text/javascript" src="{% static 'js/Chart.min.js' %}"></script>
    <script type="text/javascript">
        $.get('{% url "line_chart_json" %}', function(data) {
            var ctx = $("#myChart").get(0).getContext("2d");
            new Chart(ctx, {
                type: 'line', data: data
            });
        });
    </script>
</div>

{% endblock %}